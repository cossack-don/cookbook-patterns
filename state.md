# Паттерн Состояние (State)

Паттерн Состояние (State) позволяет объекту изменять свое поведение в зависимости от внутреннего состояния. 
В функциональной парадигме этот паттерн можно реализовать с помощью функций, которые возвращают новые состояния и поведение в зависимости от текущего состояния.

Пример: Реализация паттерна "Состояние" в функциональном стиле
Рассмотрим пример с простым светофором, который может находиться в одном из трех состояний: Красный, Желтый, Зеленый. 
В зависимости от состояния, светофор будет вести себя по-разному (например, показывать текущий цвет и переключаться на следующий).


```js

// Функции, представляющие состояния светофора
const redState = () => {
    return {
        showColor() {
            console.log("Светофор показывает: Красный");
        },
        nextState() {
            console.log("Переключаемся на Желтый");
            return yellowState(); // Возвращаем следующее состояние
        }
    };
};

const yellowState = () => {
    return {
        showColor() {
            console.log("Светофор показывает: Желтый");
        },
        nextState() {
            console.log("Переключаемся на Зеленый");
            return greenState(); // Возвращаем следующее состояние
        }
    };
};

const greenState = () => {
    return {
        showColor() {
            console.log("Светофор показывает: Зеленый");
        },
        nextState() {
            console.log("Переключаемся на Красный");
            return redState(); // Возвращаем следующее состояние
        }
    };
};

// Контекст, который управляет текущим состоянием
const trafficLight = (initialState) => {
    let currentState = initialState; // Текущее состояние

    return {
        showColor() {
            currentState.showColor(); // Показываем текущий цвет
        },
        nextState() {
            currentState = currentState.nextState(); // Переключаемся на следующее состояние
        }
    };
};

// Пример использования
const light = trafficLight(redState()); // Начинаем с Красного состояния

light.showColor(); // Светофор показывает: Красный
light.nextState(); // Переключаемся на Желтый

light.showColor(); // Светофор показывает: Желтый
light.nextState(); // Переключаемся на Зеленый

light.showColor(); // Светофор показывает: Зеленый
light.nextState(); // Переключаемся на Красный

light.showColor(); // Светофор показывает: Красный
```


Преимущества реализации в функциональной парадигме:
Простота: Код легко читается и понимается.

Гибкость: Состояния можно легко добавлять или изменять.

Отсутствие побочных эффектов: Каждое состояние возвращает новый объект, что делает код более предсказуемым.

Когда использовать паттерн "Состояние"?
Когда объект должен менять свое поведение в зависимости от состояния.

Когда у вас есть множество условных операторов, которые проверяют состояние объекта.

Когда состояния и переходы между ними могут изменяться или расширяться.

Этот пример демонстрирует, как можно реализовать паттерн "Состояние" в функциональном стиле на JavaScript, сохраняя его основные принципы.
